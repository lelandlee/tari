<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>RFC-0311: Digital Asset templates - The Tari Network: RFC library</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The Tari network RFC library and documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
            tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
            }
          });
        </script>
        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">var path_to_root = "";</script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var sidebar = localStorage.getItem('mdbook-sidebar');
                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme = 'light';
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <img src="theme/images/tari-splash.png" class="tlu">

            <ol class="chapter"><li class="affix"><a href="about.html">About the Tari RFC documents</a></li><li><a href="RFC-0001_overview.html"><strong aria-hidden="true">1.</strong> RFC-0001: An overview of the Tari network</a></li><li><a href="RFC-0010_CodeStructure.html"><strong aria-hidden="true">2.</strong> RFC-0010: Tari code structure and organisation</a></li><li><a href="RFC-0100_BaseLayer.html"><strong aria-hidden="true">3.</strong> RFC-0100: The Tari Base Layer</a></li><li><ol class="section"><li><a href="RFC-0110_BaseNodes.html"><strong aria-hidden="true">3.1.</strong> RFC-0110: Base nodes</a></li><li><a href="RFC-0130_Mining.html"><strong aria-hidden="true">3.2.</strong> RFC-0130: Mining</a></li><li><a href="RFC-0140_Syncing_and_seeding.html"><strong aria-hidden="true">3.3.</strong> RFC-0140: Sync and Seeding</a></li><li><a href="RFC-0150_Wallets.html"><strong aria-hidden="true">3.4.</strong> RFC-0150: Wallets</a></li><li><a href="RFC-0170_NetworkCommunicationProtocol.html"><strong aria-hidden="true">3.5.</strong> RFC-0170: Network Communication Protocol</a></li></ol></li><li><a href="RFC-0200_BaseLayerExtensions.html"><strong aria-hidden="true">4.</strong> RFC-0200: Tari-specific extensions to Mimblewimble</a></li><li><ol class="section"><li><a href="RFC-0220_AssetCheckpoints.html"><strong aria-hidden="true">4.1.</strong> RFC-0220: Asset checkpoints</a></li><li><a href="RFC-0230_HTLC.html"><strong aria-hidden="true">4.2.</strong> RFC-0230: Hash time locked contracts</a></li><li><a href="RFC-0322_VNRegistration.html"><strong aria-hidden="true">4.3.</strong> RFC-0322: Validator Node Registration</a></li><li><a href="RFC-0341_AssetRegistration.html"><strong aria-hidden="true">4.4.</strong> RFC-0341: Asset registration</a></li></ol></li><li><a href="RFC-0300_DAN.html"><strong aria-hidden="true">5.</strong> RFC-0300: The Digital Assets Network</a></li><li><ol class="section"><li><a href="RFC-0301_NamespaceRegistration.html"><strong aria-hidden="true">5.1.</strong> RFC-0301: Namespace Registration</a></li><li><a href="RFC-0302_ValidatorNodes.html"><strong aria-hidden="true">5.2.</strong> RFC-0302: Validator Nodes</a></li><li><a href="RFC-0304_VNCommittees.html"><strong aria-hidden="true">5.3.</strong> RFC-0304: Validator Node committee selection</a></li></ol></li><li><a href="RFC-0310_AssetManagement.html"><strong aria-hidden="true">6.</strong> RFC-0310: Asset Management</a></li><li><ol class="section"><li><a href="RFC-0311_AssetTemplates.html" class="active"><strong aria-hidden="true">6.1.</strong> RFC-0311: Digital Asset templates</a></li><li><a href="RFC-0313_AssetReadAPI.html"><strong aria-hidden="true">6.2.</strong> RFC-0313: The asset read-only API</a></li><li><a href="RFC-0314_AssetDiscovery.html"><strong aria-hidden="true">6.3.</strong> RFC-0314: Asset discovery</a></li><li><a href="RFC-0315_AssetTransfer.html"><strong aria-hidden="true">6.4.</strong> RFC-0315: Asset transfer mechanism</a></li><li><a href="RFC-0316_AssetRetirement.html"><strong aria-hidden="true">6.5.</strong> RFC-0316: Asset retirement</a></li></ol></li><li><a href="RFC-0340_VNConsensusOverview.html"><strong aria-hidden="true">7.</strong> RFC-0340: Validator Node Consensus</a></li><li><ol class="section"><li><a href="RFC-0342_VNInstructions.html"><strong aria-hidden="true">7.1.</strong> RFC-0342: Validator node instructions</a></li><li><a href="RFC-0343_VNConsensusAlgorithm.html"><strong aria-hidden="true">7.2.</strong> RFC-0343: The VN consensus algorithm</a></li></ol></li><li><a href="RFC-0350_DisputeResolution.html"><strong aria-hidden="true">8.</strong> RFC-0350: DAN Dispute resolution mechanism</a></li><li><a href="RFC-0370_TariCollections.html"><strong aria-hidden="true">9.</strong> RFC-0370: Tari Collections</a></li><li><ol class="section"><li><a href="RFC-0371_TokenWallet.html"><strong aria-hidden="true">9.1.</strong> RFC-0371: Token wallet</a></li><li><a href="RFC-0372_TCP2PComm.html"><strong aria-hidden="true">9.2.</strong> RFC-0372: Tari Collections Peer-to-peer communication</a></li><li><a href="RFC-0373_TCInstructionAPI.html"><strong aria-hidden="true">9.3.</strong> RFC-0373: Instruction API</a></li><li><a href="RFC-0374_TCAssetManagement.html"><strong aria-hidden="true">9.4.</strong> RFC-0374: Asset Creation and management</a></li><li><a href="RFC-0375_TCWalletBridge.html"><strong aria-hidden="true">9.5.</strong> RFC-0375: Tari wallet bridge</a></li></ol></li><li><a href="RFC-0500_PaymentChannels.html"><strong aria-hidden="true">10.</strong> RFC-0500: Tari payment channels</a></li><li><ol class="section"><li><a href="RFC-0530_P2PPayments.html"><strong aria-hidden="true">10.1.</strong> RFC-0530: Peer-to-peer payments</a></li><li><a href="RFC-0550_VNFees.html"><strong aria-hidden="true">10.2.</strong> RFC-0550: Instruction fees</a></li></ol></li><li><a href="Glossary.html"><strong aria-hidden="true">11.</strong> Glossary</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title"><img src="theme/images/tari-horizontal-logo.png"/> </h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#rfc-0311assettemplates" id="rfc-0311assettemplates"><h1>RFC-0311/AssetTemplates</h1></a>
<a class="header" href="#digital-asset-templates" id="digital-asset-templates"><h2>Digital Asset templates</h2></a>
<p><img src="https://github.com/tari-project/tari/raw/master/RFC/src/theme/images/status-draft.svg" alt="status: draft" /></p>
<p><strong>Maintainer(s)</strong>: <a href="https://github.com/CjS77">Cayle Sharrock</a></p>
<a class="header" href="#license" id="license"><h1>License</h1></a>
<p><a href="https://opensource.org/licenses/BSD-3-Clause"> The 3-Clause BSD License</a>.</p>
<p>Copyright 2019. The Tari Development Community</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the
following conditions are met:</p>
<ol>
<li>Redistributions of this document must retain the above copyright notice, this list of conditions and the following
disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products
derived from this software without specific prior written permission.</li>
</ol>
<p>THIS DOCUMENT IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<a class="header" href="#language" id="language"><h2>Language</h2></a>
<p>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;,
&quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be interpreted as described in
<a href="https://tools.ietf.org/html/bcp14">BCP 14</a> (covering RFC2119 and RFC8174) when, and only when, they appear in all capitals, as
shown here.</p>
<a class="header" href="#disclaimer" id="disclaimer"><h2>Disclaimer</h2></a>
<p>The purpose of this document and its content is for information purposes only and may be subject to change or update
without notice.</p>
<p>This document may include preliminary concepts that may or may not be in the process of being developed by the Tari
community. The release of this document is intended solely for review and discussion by the community regarding the
technological merits of the potential system outlined herein.</p>
<a class="header" href="#goals" id="goals"><h2>Goals</h2></a>
<p>Describe the Tari Digital Asset templating system for smart contract definition.</p>
<p>The term “smart contracts” in this document is used to refer to a set of rules enforced by computers. These smart
contracts are not Turing complete, such as those executed by the Ethereum VM.</p>
<a class="header" href="#related-rfcs" id="related-rfcs"><h2>Related RFCs</h2></a>
<ul>
<li><a href="RFC-0300_DAN.html">RFC-0300: The Digital Assets Network</a></li>
<li><a href="RFC-0301_NamespaceRegistration.html">RFC-0301: Namespace registration</a></li>
<li><a href="RFC-0340_VNConsensusOverview.html">RFC-0340: Validator Node Consensus</a></li>
<li><a href="RFC-0374_TCAssetManagement.html">RFC-0374: Asset Creation and management</a></li>
</ul>
<a class="header" href="#description" id="description"><h2>Description</h2></a>
<a class="header" href="#motivation" id="motivation"><h3>Motivation</h3></a>
<p>The reasons for issuing assets on Tari under a templating system, rather than a scripting language (whether Turing
complete or not) are manifold:</p>
<ul>
<li>A scripting language, irrespective of how simple it is, limits the target market for asset issuers to developers, or
people who pay developers.</li>
<li>The market doesn’t want general smart contracts. This is evidenced by the fact that the vast majority of Ethereum
transactions go through ERC-20 or ERC-721 contracts, which are literally contract templates.</li>
<li>The attack surface for smart contracts is reduced considerably; to the node software itself.</li>
<li>Bugs can be fixed for all contracts simultaneously by using a template versioning system. Existing assets can opt-in
to fixes by migrating assets to a new version of the contract.</li>
<li>Contracts will have better QA since more eyes are looking at fewer contract code sets.</li>
<li>Transmission, storage and processing of contracts will be more efficient as one only has to deal with the parameters
and not the logic of the contract. Furthermore, the cost for users is usually lower, since there's no need to add
friction / extra costs to contract execution (e.g. ethereum gas) to work around the halting problem.</li>
</ul>
<a class="header" href="#implementation" id="implementation"><h3>Implementation</h3></a>
<p>Assets are created on the Tari network by issuing a <code>create_asset</code> instruction from a wallet or client and broadcasting
it to the Tari Digital Assets Network (DAN).</p>
<p>The instruction is in JSON format and MUST contain the following fields:
(PKH = Public Key Hash)</p>
<table><thead><tr><th align="left"> Name                               </th><th align="left"> Type          </th><th align="left"> Description                                                                                                                 </th></tr></thead><tbody>
<tr><td align="left"> <strong>Asset description</strong>              </td><td align="left">               </td><td align="left">                                                                                                                             </td></tr>
<tr><td align="left"> issuer                             </td><td align="left"> PKH           </td><td align="left"> The public key of the creator of the asset. See <a href="#issuer">issuer</a>                                                           </td></tr>
<tr><td align="left"> name                               </td><td align="left"> <code>string[64]</code>  </td><td align="left"> The name or identifier for the asset. See <a href="#name-and-description">Name and Description</a>                                     </td></tr>
<tr><td align="left"> description                        </td><td align="left"> <code>string[216]</code> </td><td align="left"> A short description of the asset - with name, fits in a tweet. See <a href="#name-and-description">Name and Description</a>            </td></tr>
<tr><td align="left"> raid                               </td><td align="left"> <code>string[15]</code>  </td><td align="left"> The <a href="#raid-id">Registered Asset Issuer Domain (RAID_ID)</a> for the asset.                                                     </td></tr>
<tr><td align="left"> template_id                        </td><td align="left"> <code>u64</code>         </td><td align="left"> The template descriptor. See <a href="#template-id">Template ID</a>                                                                    </td></tr>
<tr><td align="left"> asset_expiry                       </td><td align="left"> <code>u64</code>         </td><td align="left"> A timestamp or block height after which the asset will automatically expire. Zero for arbitrarily long-lived assets         </td></tr>
<tr><td align="left"> <strong>Validation Committee selection</strong> </td><td align="left">               </td><td align="left">                                                                                                                             </td></tr>
<tr><td align="left"> committee_mode                     </td><td align="left"> <code>u8</code>          </td><td align="left"> The validation committee mode, either <code>CREATOR_ASSIGNED</code> (0) or <code>NETWORK_ASSIGNED</code> (1)                                      </td></tr>
<tr><td align="left"> committee_parameters               </td><td align="left"> Object        </td><td align="left"> See <a href="#committee-parameters">Committee Parameters</a>.                                                                          </td></tr>
<tr><td align="left"> asset_creation_fee                 </td><td align="left"> <code>u64</code>         </td><td align="left"> The fee the issuer is paying, in microTari, for the asset creation process                                                  </td></tr>
<tr><td align="left"> commitment                         </td><td align="left"> <code>u256</code>        </td><td align="left"> A time-locked commitment for the asset creation fee                                                                         </td></tr>
<tr><td align="left"> initial_state_hash                 </td><td align="left"> <code>u256</code>        </td><td align="left"> The hash of the canonical serialisation of the initial template state (of the template-specific data)                       </td></tr>
<tr><td align="left"> initial_state_length               </td><td align="left"> <code>u64</code>         </td><td align="left"> Size in bytes of initial state                                                                                              </td></tr>
<tr><td align="left"> <strong>template-specific data</strong>         </td><td align="left"> Object        </td><td align="left"> Template-specific metadata can be defined in this section                                                                   </td></tr>
<tr><td align="left"> <strong>Signatures</strong>                     </td><td align="left">               </td><td align="left">                                                                                                                             </td></tr>
<tr><td align="left"> metadata_hash                      </td><td align="left"> <code>u256</code>        </td><td align="left"> A hash of the previous three sections' data, in canonical format (<code>m</code>)                                                      </td></tr>
<tr><td align="left"> creator_sig                        </td><td align="left"> <code>u256</code>        </td><td align="left"> A digital signature of the message `H(R </td></tr>
<tr><td align="left"> P </td></tr>
<tr><td align="left"> m)<code>using the asset creator’s private key corresponding to the</code>issuer` PKH </td></tr>
<tr><td align="left"> raid_signature                     </td><td align="left"> <code>u256</code>        </td><td align="left"> Digital signature for the given RAID, signing the message `H(R </td></tr>
<tr><td align="left"> P </td></tr>
<tr><td align="left"> RAID_ID </td></tr>
<tr><td align="left"> m)`                                       </td></tr>
<tr><td align="left"> commitment_sig                     </td><td align="left"> <code>u256</code>        </td><td align="left"> A signature proving the issuer is able to spend the commitment to the asset fee                                             </td></tr>
</tbody></table>
<a class="header" href="#committee-parameters" id="committee-parameters"><h4>Committee parameters</h4></a>
<p>If <code>committee_mode</code> is <code>CREATOR_ASSIGNED</code> the <code>committee_mode</code> object is</p>
<table><thead><tr><th> Name             </th><th> Type         </th><th> Description </th></tr></thead><tbody>
<tr><td align="left"> trusted_node_set </td><td align="left"> Array of PKH </td><td align="left"> See below   </td></tr>
</tbody></table>
<p>Only the nodes in the trusted node set will be allowed to execute instructions for this asset.</p>
<p>If <code>committee_mode</code> is <code>NETWORK_ASSIGNED</code> the <code>committee_mode</code> object is</p>
<table><thead><tr><th> Name                    </th><th> Type  </th><th> Description                                                                                                           </th></tr></thead><tbody>
<tr><td align="left"> node_threshold          </td><td align="left"> <code>u32</code> </td><td align="left"> The required number of validator nodes that must register to execute instructions for this asset                      </td></tr>
<tr><td align="left"> minimum_collateral      </td><td align="left"> <code>u64</code> </td><td align="left"> The minimum amount of Tari a validator node must put up in collateral in order to execute instructions for this asset </td></tr>
<tr><td align="left"> node_selection_strategy </td><td align="left"> <code>u32</code> </td><td align="left"> The selection strategy to employ allowing nodes to register to manage this asset                                      </td></tr>
</tbody></table>
<a class="header" href="#issuer" id="issuer"><h4>Issuer</h4></a>
<p>Anyone can create new assets on the Tari network from their Tari Collections client. The client will provide the PKH and
sign the instruction. The client needn’t use the same private key each time.</p>
<a class="header" href="#name-and-description" id="name-and-description"><h4>Name and Description</h4></a>
<p>These fields are purely for informational purposes and do not need to be unique, and do not act as an asset ID.</p>
<a class="header" href="#raid-id" id="raid-id"><h4>RAID ID</h4></a>
<p>The RAID_ID is a 15 character string that associates the asset issuer with a registered internet domain name on DNS.</p>
<p>If it is likely that a digital asset issuer will be issuing many assets on the Tari Network (hundreds, or thousands),
the issuer should strongly consider using a registered domain (e.g. <code>acme.com</code>). This is
done via OpenAlias on the domain owner's DNS record, as described in <a href="RFC-0301_NamespaceRegistration.html">RFC-0301</a>. A
RAID prevents spoofing of assets from copycats or other malicious actors. It also makes asset discovery
simpler.</p>
<p>Assets from issuers that do not have a RAID are all grouped under the default RAID.</p>
<p>RAID owners must provide a valid signature proving that they own the given domain when creating assets.</p>
<a class="header" href="#asset-identification" id="asset-identification"><h4>Asset identification</h4></a>
<p>Assets are identified by a 64-character string that uniquely identifies an asset on the network:</p>
<table><thead><tr><th> Bytes </th><th> Description                                 </th></tr></thead><tbody>
<tr><td align="left"> 8     </td><td align="left"> Template type (hex)                         </td></tr>
<tr><td align="left"> 4     </td><td align="left"> Template version (hex)                      </td></tr>
<tr><td align="left"> 4     </td><td align="left"> Feature flags (hex)                         </td></tr>
<tr><td align="left"> 15    </td><td align="left"> RAID identifier (Base58)                    </td></tr>
<tr><td align="left"> 1     </td><td align="left"> A period character, <code>.</code>                     </td></tr>
<tr><td align="left"> 32    </td><td align="left"> Hash of <code>create_asset</code> instruction (Base58) </td></tr>
</tbody></table>
<p>This allows assets to be deterministically identified from their initial state. Two different creation instructions
leading to the same hash refer to the same single asset, by definition. Validator Nodes maintain an index of assets and
their committees, and so can determine whether a given asset already exists; and MUST reject any <code>create_asset</code>
instruction for an existing asset.</p>
<a class="header" href="#template-id" id="template-id"><h4>Template ID</h4></a>
<p>Tari uses templates to define the behaviour for its smart contracts. The template id refers to the type of digital asset
begin created.</p>
<p><strong>Note:</strong> Integer values are given in <em>little-endian</em> format; i.e. the least significant bit is <em>first</em>.</p>
<p>The template number is a 64-bit unsigned integer and has the following format, with 0 representing
the least significant bit.</p>
<table><thead><tr><th> Bit range </th><th> Description                       </th></tr></thead><tbody>
<tr><td align="left"> 0 - 31    </td><td align="left"> Template type (0 - 4,294,967,295) </td></tr>
<tr><td align="left"> 32 - 47   </td><td align="left"> Template version (0 - 65,535)     </td></tr>
<tr><td align="left"> 48        </td><td align="left"> Beta Mode flag                    </td></tr>
<tr><td align="left"> 49        </td><td align="left"> Confidentiality flag              </td></tr>
<tr><td align="left"> 50 - 63   </td><td align="left"> Reserved  (Must be 0)             </td></tr>
</tbody></table>
<p>The lowest 32 bits refer to the canonical smart contract type; the qualitative types of contracts the network supports.
Many assets can be issued from a single template.</p>
<p>Template types below 65,536 (2<sup>16</sup>) are public, community-developed templates.
All validator nodes MUST implement and be able to interpret instructions related to these templates.</p>
<p>Template types 65,536 and above are opt-in or proprietary templates. There is no guarantee that any given validator node
will be able to manage assets on these templates. Part of the committee selection and confirmation process for new
assets will be an attestation by validator nodes that they are willing and able to manage the asset under the designated
template rules.</p>
<p>A global registry of opt-in template types will be necessary to prevent collisions (public templates existence will be
evident from the Validator Node source code), possibly implemented as a special transaction type on the base layer; the
base layer being perfectly suited for hosting such a registry. The details of this will be covered in a separate
proposal.</p>
<p>Examples of template types may be</p>
<table><thead><tr><th> Template type </th><th> Asset                    </th></tr></thead><tbody>
<tr><td align="left"> 1             </td><td align="left"> Simple single-use tokens </td></tr>
<tr><td align="left"> 2             </td><td align="left"> Simple coupons           </td></tr>
<tr><td align="left"> 20            </td><td align="left"> ERC-20-compatible        </td></tr>
<tr><td align="left"> ...           </td><td align="left"> ...                      </td></tr>
<tr><td align="left"> 120           </td><td align="left"> Collectible Cards        </td></tr>
<tr><td align="left"> 144           </td><td align="left"> In-game items            </td></tr>
<tr><td align="left"> 721           </td><td align="left"> ERC-721-compatible       </td></tr>
<tr><td align="left"> ...           </td><td align="left"> ...                      </td></tr>
<tr><td align="left"> 65,537        </td><td align="left"> Acme In game items       </td></tr>
<tr><td align="left"> 723,342       </td><td align="left"> CryptoKitties v8         </td></tr>
</tbody></table>
<p>The template id may also set one or more feature flags to indicate that the contract is</p>
<ul>
<li>experimental, or in testing phase, (bit 48).</li>
<li>confidential. The definition of confidential assets and their implementation is not finalised at the time of writing.</li>
</ul>
<p>Wallets / client apps SHOULD have settings to allow or otherwise completely ignore asset types on the network that have
certain feature flags enabled. For instance, most consumer wallets should never interact with templates that have the
“Beta mode” bit set. Only developer’s wallets should ever even see that such assets exist.</p>
<a class="header" href="#asset-expiry" id="asset-expiry"><h4>Asset expiry</h4></a>
<p>Asset issuers can set a future expiry date or block height after which the asset will expire and nodes will be free to
expunge any/all state relating to the asset from memory after a fixed grace period. The grace period is to allow
interested parties (e.g. the issuer) to take a snapshot of the final state of the contract if they wish (e.g. proving
that you had a ticket for that epic World Cup final game, even after the asset no longer exists on the DAN).</p>
<p>Nodes will publish a final checkpoint on the base layer soon after expiry and before purging an asset.</p>
<p>The expiry_date is a Unix epoch, representing the number of seconds since 1 January 1970 00:00:00 UTC if the value is
greater than 1,500,000,000; or a block height if it is less than that value (with 1 min blocks this scheme is valid
until the year 4870).</p>
<p>Expiry times should not be considered exact, since nodes don’t share the same clocks and block heights as time proxies
become more inaccurate the further out you go (since height in the future is dependent on hash rate).</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="RFC-0310_AssetManagement.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="RFC-0313_AssetReadAPI.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="RFC-0310_AssetManagement.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="RFC-0313_AssetReadAPI.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Initialize mermaid -->
        <script src="theme/js/mermaid.min.js" type="text/javascript" charset="utf-8"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
